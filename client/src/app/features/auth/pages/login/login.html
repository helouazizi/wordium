<div class="min-vh-100 d-flex align-items-center justify-content-center bg-light">
  <div class="card auth-card border-0">
    <div class="card-body p-4">
      <h1 class="text-center mb-2 fw-bold">Welcome back</h1>
      <p class="text-center text-muted mb-4">Sign in to your account</p>

      <form [formGroup]="form" (ngSubmit)="login()" class="d-grid gap-3" novalidate>

        <!-- Identifier -->
        <div>
          <input
            type="text"
            class="form-control"
            placeholder="Email or username"
            formControlName="identifier"
          />

          @if (form.controls.identifier.touched && form.controls.identifier.invalid) {
            <small class="text-danger">
              Email or username is required
            </small>
          }
        </div>

        <!-- Password -->
        <div>
          <input
            type="password"
            class="form-control"
            placeholder="Password"
            formControlName="password"
          />

          @if (form.controls.password.touched && form.controls.password.invalid) {
            <small class="text-danger">
              Password is required
            </small>
          }
        </div>

        <!-- Backend error -->
        @if (errorMessage) {
          <div class="alert alert-danger py-2">
            {{ errorMessage }}
          </div>
        }

        <!-- Submit -->
        <button type="submit" class="btn btn-dark w-100" [disabled]="form.invalid || isSubmitting">
          Sign in

          @if (isSubmitting) {
            <span class="spinner-border spinner-border-sm ms-2"></span>
          }
        </button>

      </form>

      <p class="text-center mt-4 mb-0">
        Donâ€™t have an account?
        <a routerLink="/signup" class="fw-semibold">Create one</a>
      </p>
    </div>
  </div>
</div>
